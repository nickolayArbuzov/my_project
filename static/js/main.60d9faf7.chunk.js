(this.webpackJsonpmy_project=this.webpackJsonpmy_project||[]).push([[0],{13:function(e,t,n){e.exports={groupLink:"Navlinks_groupLink__2j2Aw",link:"Navlinks_link__2VgYc"}},18:function(e,t,n){e.exports={body:"Registration_body__2CrT9",inputStyle:"Registration_inputStyle__2Mfw7",error:"Registration_error__1P4Hs"}},19:function(e,t,n){e.exports={errorContainer:"Error404_errorContainer__HHh00",error:"Error404_error__1BccW",link:"Error404_link__TQjTE"}},34:function(e,t,n){e.exports={container:"Profile_container__1b8af"}},35:function(e,t,n){e.exports={loginWrapper:"Login_loginWrapper__169F6"}},36:function(e,t,n){e.exports={container:"PasswordRecovery_container__3dUeG"}},37:function(e,t,n){e.exports={nav:"Nav_nav__1EKLP"}},38:function(e,t,n){e.exports={container:"Packs_container__1qtT8"}},39:function(e,t,n){e.exports={container:"Cards_container__16gLE"}},40:function(e,t,n){e.exports={container:"Users_container__32HvC"}},41:function(e,t,n){e.exports={container:"Stats_container__3ckfV"}},42:function(e,t,n){e.exports={container:"Gistogramm_container__2vURr"}},48:function(e,t,n){},49:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(16),r=n.n(a),o=(n(48),n(49),n(5)),i=n(3),s=n(2),u=n(33),d=n.n(u).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0/"}),j=function(e,t){return d.post("auth/register",{email:e,password:t})},l=function(e,t,n){return d.post("auth/forgot",{email:e,from:t,message:n})},b=function(e,t,n){return d.post("auth/login",{email:e,password:t,rememberMe:n})},O=function(){return d.post("auth/me",{})},p=function(){return d.delete("auth/me",{})},h=function(e,t,n,c,a){return d.get("cards/pack?packName=".concat(e,"&min=").concat(t,"&max=").concat(n,"&page=").concat(c,"&pageCount=").concat(a))},f=function(e,t){return d.post("cards/pack",{cardsPack:{packName:e,privatePack:t}})},g=function(e){return d.delete("cards/pack?id=".concat(e))},x=function(e,t,n,c,a,r,o){return d.get("cards/card?cardAnswer=".concat(e,"&cardQuestion=").concat(t,"&cardsPack_id=").concat(n,"&min=").concat(c,"&max=").concat(a,"&page=").concat(r,"&pageCount=").concat(o))},m=function(e,t){return d.put("cards/grade",{grade:e,card_id:t})},v=function(e,t,n,c,a){return d.get("social/users?userName=".concat(e,"&min=").concat(t,"&max=").concat(n,"&page=").concat(c,"&pageCount=").concat(a))},C={userName:"",min:1,max:1,page:1,pageCount:1},k=function(e,t,n,c,a){return function(r){return v(e,t,n,c,a).then((function(e){})).catch((function(e){return alert(e)}))}},_={_id:"",avatar:"",userName:"",cardCount:0},E=function(e){return{type:"AUTH/CHECK-AUTH",_id:e}},R=function(e,t,n){return{type:"AUTH/GET-PROFILE",avatar:e,userName:t,cardCount:n}},S=n(34),P=n.n(S),N=n(1),T=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth._id})),n=Object(i.c)((function(e){return e.auth.avatar})),a=Object(i.c)((function(e){return e.auth.userName})),r=Object(i.c)((function(e){return e.auth.cardCount})),s=Object(c.useCallback)((function(){e(k("nya",3,9,1,7))}),[e]),u=Object(c.useCallback)((function(){e((function(e){return p().then((function(){return e(E(""))})).catch((function(e){}))}))}),[e]);return t?Object(N.jsxs)("div",{className:P.a.container,children:[Object(N.jsx)("h2",{children:"Profile"}),Object(N.jsx)("button",{onClick:s,children:"Show users"}),Object(N.jsx)("button",{onClick:u,children:"Logout"}),Object(N.jsx)("img",{src:n,alt:"avatar"}),Object(N.jsxs)("h3",{children:["Hello ",a]}),Object(N.jsxs)("h4",{children:["You have ",r," packs"]})]}):Object(N.jsx)(o.a,{to:"/login"})},A=n(7),y={email:"",password:"",rememberMe:!1},w=n(35),D=n.n(w),L=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth._id})),n=Object(c.useState)("Nickolay@Arbuzov.tech"),a=Object(A.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)("11111111"),d=Object(A.a)(u,2),j=d[0],l=d[1],O=Object(c.useState)(!1),p=Object(A.a)(O,2),h=p[0],f=p[1],g=Object(c.useCallback)((function(){e(function(e,t,n){return function(c){return b(e,t,n).then((function(e){e&&(c(E(e.data._id)),c(R(e.data.avatar,e.data.name,e.data.publicCardPacksCount)))})).catch((function(e){}))}}(r,j,h))}),[r,j,h]);return t?Object(N.jsx)(o.a,{to:"/profile"}):Object(N.jsxs)("div",{className:D.a.loginWrapper,children:[Object(N.jsx)("h2",{children:"Login"}),Object(N.jsx)("h3",{children:"account"}),Object(N.jsx)("input",{onChange:function(e){s(e.currentTarget.value)},value:r}),Object(N.jsx)("h3",{children:"password"}),Object(N.jsx)("input",{type:"password",onChange:function(e){l(e.currentTarget.value)},value:j}),Object(N.jsx)("h3",{children:"remember me"}),Object(N.jsx)("input",{type:"checkbox",title:"remember Me",onClick:function(e){f(e.currentTarget.checked)},checked:h}),Object(N.jsx)("button",{onClick:g,children:"LogIn"})]})},I={email:"",from:"",message:"",password:"",redirect:!1},G=n(36),U=n.n(G),W=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.passwordRecovery.redirect})),n=Object(c.useState)("nya-admin@nya.nya"),a=Object(A.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)(!1),d=Object(A.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)("1qazxcvBG"),p=Object(A.a)(O,2),h=p[0],f=p[1],g=Object(c.useState)("1qazxcvBG"),x=Object(A.a)(g,2),m=x[0],v=x[1],C=Object(c.useCallback)((function(){"nya-admin@nya.nya"===r?(b(!0),e(function(e,t,n){return function(c){return l(e,t,n).then((function(a){c(function(e,t,n){return{type:"RECOVERY/NEW-PASSWORD",email:e,from:t,message:n}}(e,t,n))})).catch((function(e){return alert(e)}))}}(r,"test-front-admin <ai73a@yandex.by>","<div style=\"background-color: lime; padding: 15px\">password recovery link: \n                    <a href='http://localhost:3000/#/set-new-password/$token$'>link</a></div>"))):b(!1)}),[r]),k=Object(c.useCallback)((function(){}),[f,v]);return t?Object(N.jsx)(o.a,{from:me.LOGIN,to:me.LOGIN}):Object(N.jsxs)("div",{className:U.a.container,children:[Object(N.jsx)("h1",{children:"Recovery"}),Object(N.jsx)("span",{children:"email"}),Object(N.jsx)("input",{onChange:function(e){s(e.currentTarget.value)},value:r}),Object(N.jsx)("div",{style:{height:"10px"}}),Object(N.jsx)("button",{onClick:C,children:"Send mail"}),j&&Object(N.jsxs)("div",{style:{margin:"20px"},children:[Object(N.jsx)("span",{children:"password"}),Object(N.jsx)("input",{onChange:function(e){f(e.currentTarget.value)},value:h}),Object(N.jsx)("div",{style:{height:"10px"}}),Object(N.jsx)("span",{children:"password"}),Object(N.jsx)("input",{onChange:function(e){v(e.currentTarget.value)},value:m}),Object(N.jsx)("div",{style:{height:"10px"}}),Object(N.jsx)("button",{onClick:k,children:"Recovery pass"})]})]})},K=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("h1",{children:"EnteringNewPassword"})})},F=n(18),H=n.n(F),V={email:null,password:null,serverError:null},Y=function(){var e=Object(c.useState)(""),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(A.a)(r,2),u=s[0],d=s[1],l=Object(c.useState)(""),b=Object(A.a)(l,2),O=b[0],p=b[1],h=Object(c.useState)(""),f=Object(A.a)(h,2),g=f[0],x=f[1],m=Object(i.c)((function(e){return e.registration.email})),v=Object(i.c)((function(e){return e.registration.serverError})),C=Object(i.b)();Object(c.useEffect)((function(){x(v)}),[v]),Object(c.useEffect)((function(){return function(){a(""),d(""),p("")}}),[]);var k=function(e){return function(t){if(t.length<e)return"Min length ".concat(e," symbols")}}(7);return m?Object(N.jsx)(o.a,{to:"/login"}):Object(N.jsxs)("div",{className:H.a.body,children:[Object(N.jsx)("h2",{children:"Registration"}),Object(N.jsx)("div",{className:H.a.error,children:g}),Object(N.jsxs)("div",{className:H.a.inputStyle,children:[Object(N.jsx)("input",{type:"text",placeholder:"Email",value:n,onChange:function(e){a(e.currentTarget.value)}}),Object(N.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:function(e){var t=k(e.currentTarget.value);x(t||null),d(e.currentTarget.value)}}),Object(N.jsx)("input",{type:"password",placeholder:"Password",value:O,onChange:function(e){var t=k(e.currentTarget.value);x(t||null),p(e.currentTarget.value)}})]}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{onClick:function(){u===O?C(function(e,t){return function(n){j(e,t).then((function(e){n(function(e,t){return{type:"SET_USER_DATA",payload:{email:e,password:t}}}(e.data.addedUser.email,e.data.addedUser.password))})).catch((function(e){n({type:"SET_ERROR",payload:{serverError:e.response.data.addedUser.error}})}))}}(n,u)):x("Password mismatch")},children:"Register"})})]})},Q=n(6),B=n(19),M=n.n(B),q=function(){return Object(N.jsx)("div",{className:M.a.errorContainer,children:Object(N.jsxs)("div",{className:M.a.error,children:[Object(N.jsx)("h1",{children:"404 Error page"}),Object(N.jsx)("p",{children:"Sorry, This page doesn't exist"}),Object(N.jsx)(Q.b,{className:M.a.link,to:me.PROFILE,children:"Go To Profile"})]})})},z=n(13),J=n.n(z),$=function(){return Object(N.jsxs)("div",{className:J.a.groupLink,children:[Object(N.jsx)(Q.b,{className:J.a.link,to:me.PROFILE,children:"Profile"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.LOGIN,children:"Login"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.PASSWORD_RECOVERY,children:"Password Recovery"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.ENTERING_NEW_PASSWORD,children:"Entering New Password"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.REGISTRATION,children:"Registration"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.PACKS,children:"Packs"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.CARDS,children:"Cards"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.USERS,children:"Users"}),Object(N.jsx)(Q.b,{className:J.a.link,to:me.STATS,children:"Stats"})]})},X=n(37),Z=n.n(X),ee=function(){return Object(N.jsx)("div",{className:Z.a.nav,children:Object(N.jsx)($,{})})},te={packs:[],packName:"",min:1,max:1,page:1,pageCount:1,privatePack:!1,id:"",cardPacksTotalCount:0,created:""},ne=function(e,t,n,c,a){return function(r){return h(e,t,n,c,a).then((function(e){r(function(e,t,n,c){return{type:"PACKS/GET_PACKS",packs:e,cardPacksTotalCount:t,page:n,pageCount:c}}(e.data.cardPacks,e.data.cardPacksTotalCount,e.data.page,e.data.pageCount))})).catch((function(e){return alert(e)}))}},ce=n(38),ae=n.n(ce),re=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.packs})),n=t.packs,a=t.cardPacksTotalCount,r=(t.page,t.pageCount,Object(c.useState)("")),o=Object(A.a)(r,2),s=o[0],u=o[1],d=Object(c.useState)(!1),j=Object(A.a)(d,2),l=j[0],b=j[1],O=Object(c.useState)(""),p=Object(A.a)(O,2),h=p[0],x=p[1];Object(c.useEffect)((function(){e(ne("",0,999,1,2e3))}),[]);var m=Object(c.useCallback)((function(){e(function(e,t){return function(n){return f(e,t).then((function(e){})).catch((function(e){return alert(e)}))}}(s,l)),e(ne("",0,999,1,10))}),[s,l]),v=Object(c.useCallback)((function(t){x(t.currentTarget.value),e(ne(h,0,999,1,10))}),[h]);return Object(N.jsxs)("div",{className:ae.a.container,children:[Object(N.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},value:s,placeholder:"Enter new PackName"}),Object(N.jsx)("h3",{children:"Private Pack"}),Object(N.jsx)("input",{type:"checkbox",title:"Private Pack",onClick:function(e){b(e.currentTarget.checked)},checked:l}),Object(N.jsx)("button",{onClick:m,children:"Add"}),Object(N.jsx)("input",{onChange:v,value:h,placeholder:"Filter by PackName"}),Object(N.jsxs)("div",{children:["Total Packs: ",a]}),n.map((function(t){return Object(N.jsxs)("div",{children:[t._id," / ",t.cardsCount," / ",t.created," / ",t.name," /",t.private," / ",t.user_id," / ",t.user_name,Object(N.jsx)("button",{children:"updatePack"}),Object(N.jsx)("button",{onClick:function(){var n;e((n=t._id,function(e){return g(n).then((function(e){})).catch((function(e){return alert(e)}))})),e(ne(h,0,999,1,10))},children:"deletePack"})]})})),Object(N.jsx)("div",{})]})},oe={cardAnswer:"",cardQuestion:"",cardsPack_id:"",min:1,max:1,page:1,pageCount:1,grade:0,shots:0,rating:0,type:"",id:""},ie={grade:1,card_id:""},se=n(39),ue=n.n(se),de=function(){var e,t,n,c,a,r,o,s,u,d=Object(i.b)();Object(i.c)((function(e){return e.cards}));return d((e="question",t="answer",n="6048cb6b25d4bb00042a4667",c=1,a=4,r=1,o=7,function(i){return x(e,t,n,c,a,r,o).then((function(e){})).catch((function(e){return alert(e)}))})),d((s=1,u="5eb543f6bea3ad21480f1ee7",function(e){return m(s,u).then((function(e){})).catch((function(e){return alert(e)}))})),Object(N.jsx)("div",{className:ue.a.container})},je=n(40),le=n.n(je),be=function(){var e=Object(i.b)();Object(i.c)((function(e){return e.users}));return e(k("nya",3,9,1,7)),Object(N.jsx)("div",{className:le.a.container})},Oe=n(41),pe=n.n(Oe),he=n(42),fe=n.n(he),ge=function(e){if(!e)return null;var t,n=e.count/e.max*255;return t=85<n&&n<170,Object(N.jsxs)("div",{className:fe.a.container,children:[Object(N.jsx)("div",{style:{height:"".concat(e.count,"px"),backgroundColor:"rgb(".concat(t?n+100:n,",").concat(t?355-n:255-n,",",0,")")}}),e.date]})},xe=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.packs})),n=t.packs,a=t.cardPacksTotalCount;Object(c.useEffect)((function(){e(ne("",0,999,1,2e3))}),[]);for(var r=[],o=0,s=0;s<n.length;s++)r[s]=n[s].created.substr(0,7);for(var u=Object.entries(r.reduce((function(e,t){return e["".concat(t)]=(e["".concat(t)]||0)+1,e}),{})),d=0;d<u.length;d++)Number(u[d][1])>o&&(o=Number(u[d][1]));return console.log(o),Object(N.jsxs)("div",{className:pe.a.container,children:[Object(N.jsxs)("div",{children:["Total Packs: ",a]}),u&&u.map((function(e){return Object(N.jsx)(ge,{date:e[0],count:e[1],max:o})}))]})},me={PROFILE:"/profile",LOGIN:"/login",PASSWORD_RECOVERY:"/password-recovery",ENTERING_NEW_PASSWORD:"/entering-new-password",REGISTRATION:"/registration",PACKS:"/packs",CARDS:"/cards",USERS:"/users",STATS:"/stats"},ve=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(ee,{}),Object(N.jsxs)(o.d,{children:[Object(N.jsx)(o.b,{exact:!0,path:me.PROFILE,component:T}),Object(N.jsx)(o.b,{exact:!0,path:me.LOGIN,component:L}),Object(N.jsx)(o.b,{exact:!0,path:me.PASSWORD_RECOVERY,component:W}),Object(N.jsx)(o.b,{exact:!0,path:me.ENTERING_NEW_PASSWORD,component:K}),Object(N.jsx)(o.b,{exact:!0,path:me.REGISTRATION,component:Y}),Object(N.jsx)(o.b,{exact:!0,path:me.PACKS,component:re}),Object(N.jsx)(o.b,{exact:!0,path:me.CARDS,component:de}),Object(N.jsx)(o.b,{exact:!0,path:me.USERS,component:be}),Object(N.jsx)(o.b,{exact:!0,path:me.STATS,component:xe}),Object(N.jsx)(o.b,{path:"*",component:q})]})]})},Ce=function(){return Object(i.b)()((function(e){return O().then((function(t){t&&(e(E(t.data._id)),e(R(t.data.avatar,t.data.name,t.data.publicCardPacksCount)))})).catch((function(e){}))})),Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(ve,{})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},_e=n(20),Ee=n(43),Re={},Se={},Pe=Object(_e.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/LOGIN":return Object(s.a)({},e);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re;return e},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"SET_ERROR":return Object(s.a)(Object(s.a)({},e),t.payload)}return e},passwordRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECOVERY/PASSWORD":return Object(s.a)(Object(s.a)({},e),{},{password:t.password});case"RECOVERY/NEW-PASSWORD":return Object(s.a)(Object(s.a)({},e),{},{email:t.email,from:t.from,message:t.message});case"RECOVERY/REDIRECT-TRUE":return Object(s.a)(Object(s.a)({},e),{},{redirect:!1});case"RECOVERY/REDIRECT-FALSE":return Object(s.a)(Object(s.a)({},e),{},{redirect:!0});default:return e}},enteringNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return e},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/GET_PACKS":return Object(s.a)(Object(s.a)({},e),{},{packs:t.packs,cardPacksTotalCount:t.cardPacksTotalCount,page:t.page,pageCount:t.pageCount});case"PACKS/ADD_PACK":return Object(s.a)(Object(s.a)({},e),{},{packName:t.packName,privatePack:t.privatePack});case"PACKS/DELETE_PACK":return Object(s.a)(Object(s.a)({},e),{},{id:t.id});case"PACKS/UPDATE_PACK":return Object(s.a)(Object(s.a)({},e),{},{id:t.id,packName:t.packName});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/GET_CARDS":return Object(s.a)(Object(s.a)({},e),{},{cardAnswer:t.cardAnswer,cardQuestion:t.cardQuestion,cardsPack_id:t.cardsPack_id,min:t.min,max:t.max,page:t.page,pageCount:t.pageCount});case"CARDS/ADD_CARD":return Object(s.a)(Object(s.a)({},e),{},{cardsPack_id:t.cardsPack_id,cardQuestion:t.cardQuestion,cardAnswer:t.cardAnswer,grade:t.grade,shots:t.shots,rating:t.rating,type:t.type});case"CARDS/DELETE_CARD":return Object(s.a)(Object(s.a)({},e),{},{id:t.id});case"CARDS/UPDATE_CARD":return Object(s.a)(Object(s.a)({},e),{},{cardsPack_id:t.cardsPack_id,cardQuestion:t.cardQuestion});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/GET_USERS":return Object(s.a)(Object(s.a)({},e),{},{userName:t.userName,min:t.min,max:t.max,page:t.page,pageCount:t.pageCount});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/CHECK-AUTH":return Object(s.a)(Object(s.a)({},e),{},{_id:t._id});case"AUTH/GET-PROFILE":return Object(s.a)(Object(s.a)({},e),{},{avatar:t.avatar,userName:t.userName,cardCount:t.cardCount});default:return e}},grade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GRADE/UPDATE_GRADE":return Object(s.a)(Object(s.a)({},e),{},{grade:t.grade,card_id:t.card_id});default:return e}}}),Ne=Object(_e.c)(Pe,Object(_e.a)(Ee.a));window.store=Ne,r.a.render(Object(N.jsx)(i.a,{store:Ne,children:Object(N.jsx)(Q.a,{children:Object(N.jsx)(Ce,{})})}),document.getElementById("root")),ke()}},[[74,1,2]]]);
//# sourceMappingURL=main.60d9faf7.chunk.js.map